# 语音唤醒提示音功能

## 功能描述

语音唤醒提示音功能为用户提供音频反馈，确认系统已成功检测到唤醒词并准备接收语音指令。

## 配置选项

在 `config/config.json` 文件的 `WAKE_WORD_OPTIONS` 节中，可以配置以下提示音相关选项：

```json
{
  "WAKE_WORD_OPTIONS": {
    "PLAY_BEEP_ON_WAKE": true,     // 是否播放唤醒提示音
    "USE_DOUBLE_BEEP": true,       // 是否使用双音调提示音
    "BEEP_FREQUENCY": 800.0,       // 单音调提示音频率 (Hz)  
    "BEEP_DURATION": 0.3,          // 单音调提示音持续时间 (秒)
    "BEEP_VOLUME": 0.3             // 提示音音量 (0.0-1.0)
  }
}
```

## 配置说明

### PLAY_BEEP_ON_WAKE
- **类型**: 布尔值
- **默认值**: `true`
- **说明**: 控制是否在检测到唤醒词后播放提示音

### USE_DOUBLE_BEEP
- **类型**: 布尔值  
- **默认值**: `true`
- **说明**: 
  - `true`: 播放双音调提示音（600Hz + 900Hz），更明显的提示效果
  - `false`: 播放单音调提示音，使用下面的频率、时长和音量配置

### BEEP_FREQUENCY
- **类型**: 浮点数
- **默认值**: `800.0`
- **范围**: 200-2000 (推荐)
- **说明**: 单音调提示音的频率，单位为赫兹(Hz)

### BEEP_DURATION  
- **类型**: 浮点数
- **默认值**: `0.3`
- **范围**: 0.1-1.0 (推荐)
- **说明**: 单音调提示音的持续时间，单位为秒

### BEEP_VOLUME
- **类型**: 浮点数
- **默认值**: `0.3`  
- **范围**: 0.0-1.0
- **说明**: 提示音的音量大小，0.0为静音，1.0为最大音量

## 工作流程

1. 用户说出唤醒词（如"你好小智"）
2. 系统检测到唤醒词
3. 根据配置播放相应的提示音：
   - 双音调模式：播放600Hz (0.15秒) + 短暂停顿 + 900Hz (0.15秒)
   - 单音调模式：播放指定频率、时长和音量的提示音
4. 系统进入监听状态，准备接收用户指令

## 测试功能

可以使用以下命令测试提示音功能：

```bash
python3 scripts/test_beep.py
```

该脚本会播放多种不同的提示音供测试和调整。

## 故障排除

### 没有听到提示音
1. 检查 `PLAY_BEEP_ON_WAKE` 是否设置为 `true`
2. 检查系统音量设置
3. 检查音频输出设备是否正常工作
4. 尝试增大 `BEEP_VOLUME` 值

### 提示音太响或太轻
- 调整 `BEEP_VOLUME` 配置值（0.0-1.0）

### 想要更明显的提示音
- 设置 `USE_DOUBLE_BEEP` 为 `true`
- 或者调整单音调的频率到更容易听到的范围（如800-1200Hz）

### 提示音太长或太短
- 调整 `BEEP_DURATION` 配置值

## 技术实现

- 提示音使用正弦波生成，带有淡入淡出效果避免爆音
- 音频通过系统默认播放设备输出
- 异步播放不会阻塞主程序功能
- 提示音播放失败不会影响语音识别功能